<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8' />
    <!-- 連結檔案 -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.5/locales-all.global.min.js'></script>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- 連結CSS -->
    <link rel="stylesheet" href="style.css">
    <script>

        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendarAll');
            var calendarAll = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                // 語言
                locale: 'zh-tw',
                navLink: true,
                eventLimit: true,
                selectable: true,
                // 依瀏覽器視窗變動
                handleWindowResize: true,
                // 顯示現在
                nowIndicator: true,

                //上排選項
                headerToolbar: {
                    left: 'dayGridMonth,timeGridWeek,timeGridDay',
                    center: 'title',
                    right: 'today,prev,next'
                },
                //活動
                // eventColor: "red",
                events: [
                    {
                        id: "20230412",
                        title: "testcalender",
                        labelType: "myhost",
                        start: '2023-04-09T08:00:00',
                        end: '2023-04-09T10:00:00',
                        color: "purple"
                    },
                    {
                        id: "20230408",
                        title: "testcalender2",
                        labelType: "myjoin",
                        start: '2023-04-10T12:00:00',
                        end: '2023-04-10T14:00:00',
                        color: "green"
                    },
                    {
                        id: "333",
                        title: "testcalender3",
                        labelType: "myjoin",
                        start: '2023-04-10T22:00:00',
                        end: '2023-04-11T00:00:00',
                    },
                    {
                        id: "all",
                        title: "all",
                        start: '2023-04-14T22:00:00',
                        extendedProps: {
                            location: "badminton court",
                            fee: "100 毎人",
                            min: '2',
                            max: '8',
                            reservation: "已預約",
                            contact: '0911222333'
                        },
                        description: "testhost"
                    }
                ],

                //活動點擊
                // eventClick: function (info) {
                //     //網址不導向
                //     info.jsEvent.preventDefault();
                //     if (info.event.url) {
                //         window.open(info.event.url);
                //     }
                // },

                eventClick: function (info) {
                    if(confirm("是否刪除此活動?") == true){
                        info.event.remove()//删除事件
                    }else{
                    }
                },

                eventMouseEnter: function (info) {
                    // Generate content for popover
                    var popoverContent = info.event.extendedProps.location + info.event.extendedProps.contact;
                    // Show Bootstrap popover
                    $(info.el).popover({
                        title: info.event.title,
                        content: popoverContent,
                        placement: 'auto',
                        trigger: 'hover'
                    });
                }
            });
            // 渲染
            calendarAll.render();
        });
    </script>

</head>

<body>
    <div class="container">
        <!-- 放入網頁 -->
        <div id='calendarAll'></div>



    </div>
</body>


</html>